{"remainingRequest":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/src/views/detail/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/src/views/detail/Detail.vue","mtime":1602763732076},{"path":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zx/Desktop/zxwin/study_project/vue/SuperMall/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEZXRhaWxCYXNlSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsQmFzZUluZm8iOwppbXBvcnQgRGV0YWlsQ29tbWVudEluZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbENvbW1lbnRJbmZvIjsKaW1wb3J0IERldGFpbEdvb2RzSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsR29vZHNJbmZvIjsKaW1wb3J0IERldGFpbE5hdkJhciBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsTmF2QmFyIjsKaW1wb3J0IERldGFpbFBhcmFtSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsUGFyYW1JbmZvIjsKaW1wb3J0IERldGFpbFNob3BJbmZvIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxTaG9wSW5mbyI7CmltcG9ydCBEZXRhaWxTd2lwZXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFN3aXBlciI7CmltcG9ydCBEZXRhaWxCb3R0b21CYXIgZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbEJvdHRvbUJhciI7CgoKCmltcG9ydCBTY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCI7Ci8vIGltcG9ydCBCYWNrVG9wIGZyb20gImNvbXBvbmVudHMvY29udGVudC9iYWNrVG9wL0JhY2tUb3AiOwovLyBpbXBvcnQgVG9hc3QgZnJvbSAiY29tcG9uZW50cy9jb21tb24vdG9hc3QvVG9hc3QiOwoKaW1wb3J0IHtnZXREZXRhaWwsIEdvb2RzLCBHb29kc1BhcmFtLCBTaG9wLCBnZXRSZWNvbW1lbmR9IGZyb20gIm5ldHdvcmsvZGV0YWlsIjsKaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAiY29tbW9uL3V0aWxzIjsKaW1wb3J0IHtpdGVtTGlzdGVuZXJNaXhpbiwgYmFja1RvcE1peGlufSBmcm9tICJjb21tb24vbWl4aW4iOwovLyBpbXBvcnQge0JBQ0tfUE9TSVRJT059IGZyb20gImNvbW1vbi9jb25zdCI7CgppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRGV0YWlsIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgRGV0YWlsQmFzZUluZm8sCiAgICAgIERldGFpbENvbW1lbnRJbmZvLAogICAgICBEZXRhaWxHb29kc0luZm8sCiAgICAgIERldGFpbE5hdkJhciwKICAgICAgRGV0YWlsUGFyYW1JbmZvLAogICAgICBEZXRhaWxTaG9wSW5mbywKICAgICAgRGV0YWlsU3dpcGVyLAogICAgICBHb29kc0xpc3QsCiAgICAgIERldGFpbEJvdHRvbUJhciwKCiAgICAgIFNjcm9sbCwKICAgICAgLy8gQmFja1RvcAogICAgICAvLyBUb2FzdAogICAgfSwKICAgIG1peGluczogW2l0ZW1MaXN0ZW5lck1peGluLGJhY2tUb3BNaXhpbl0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgaWlkOiBudWxsLAogICAgICAgICAgdG9wSW1hZ2VzOiBbXSwKICAgICAgICAgIGdvb2RzOiB7fSwKICAgICAgICAgIHNob3A6IHt9LAogICAgICAgICAgZGV0YWlsSW5mbzoge30sCiAgICAgICAgICBwYXJhbUluZm86IHt9LAogICAgICAgICAgY29tbWVudEluZm86IHt9LAogICAgICAgICAgcmVjb21tZW5kczogW10sCiAgICAgICAgICB0aGVtZVRvcFlzOiBbXSwKICAgICAgICAgIGdldFRoZW1lVG9wWTogbnVsbCwKICAgICAgICAgIGN1cnJlbnRJbmRleDogMCwKICAgICAgICAgIC8vIGlzU2hvd0JhY2tUb3A6IGZhbHNlCiAgICAgICAgICAvLyBtZXNzYWdlOiAnJywKICAgICAgICAgIC8vIHNob3c6IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIC8vIDEuIOS/neWtmOS8oOWFpeeahGlpZAogICAgICAgIHRoaXMuaWlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlpZDsKCiAgICAgICAgLy8gMi4g5qC55o2uaWlk6K+35rGC6K+m5oOF5pWw5o2uCiAgICAgICAgZ2V0RGV0YWlsKHRoaXMuaWlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIC8vIDEuIOiOt+WPluaVsOaNrgogICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLnJlc3VsdDsKCiAgICAgICAgICAgIC8vIDIuIOiOt+WPlui9ruaSreWbvueahOaVsOaNrgogICAgICAgICAgICB0aGlzLnRvcEltYWdlcyA9IGRhdGEuaXRlbUluZm8udG9wSW1hZ2VzOwoKICAgICAgICAgICAgLy8gMy4g6I635Y+W5ZWG5ZOB5L+h5oGvCiAgICAgICAgICAgIHRoaXMuZ29vZHMgPSBuZXcgR29vZHMoCiAgICAgICAgICAgICAgICBkYXRhLml0ZW1JbmZvLAogICAgICAgICAgICAgICAgZGF0YS5jb2x1bW5zLAogICAgICAgICAgICAgICAgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcwogICAgICAgICAgICApOwoKICAgICAgICAgICAgLy8gNC4g5Yib5bu65bqX6ZO65L+h5oGv55qE5a+56LGhCiAgICAgICAgICAgIHRoaXMuc2hvcCA9IG5ldyBTaG9wKGRhdGEuc2hvcEluZm8pOwoKICAgICAgICAgICAgLy8gNS4g5L+d5a2Y5ZWG5ZOB55qE6K+m5oOF5pWw5o2uCiAgICAgICAgICAgIHRoaXMuZGV0YWlsSW5mbyA9IGRhdGEuZGV0YWlsSW5mbzsKCiAgICAgICAgICAgIC8vIDYuIOiOt+WPluWPguaVsOeahOS/oeaBrwogICAgICAgICAgICB0aGlzLnBhcmFtSW5mbyA9IG5ldyBHb29kc1BhcmFtKAogICAgICAgICAgICAgICAgZGF0YS5pdGVtUGFyYW1zLmluZm8sCiAgICAgICAgICAgICAgICBkYXRhLml0ZW1QYXJhbXMucnVsZQogICAgICAgICAgICApOwoKICAgICAgICAgICAgLy8gNy4g5Y+W5Ye66K+E6K6655qE5L+h5oGvCiAgICAgICAgICAgIGlmIChkYXRhLnJhdGUuY1JhdGUgIT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudEluZm8gPSBkYXRhLnJhdGUubGlzdFswXQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIC8vICAgICAvLyDmoLnmja7mnIDmlrDnmoTmlbDmja7vvIzlr7nlupTnmoRET03mmK/lt7Lnu4/ooqvmuLLmn5Plh7rmnaUKICAgICAgICAgICAgLy8gICAgIC8vIOS9huaYr+WbvueJh+S+neeEtuaYr+ayoeacieWKoOi9veWujCjnm67liY3ojrflj5bliLBvZmZzZXRUb3DkuI3ljIXlkKvlhbbkuK3nmoTlm77niYcpCiAgICAgICAgICAgIC8vICAgICAvLyBvZmZzZXRUb3DlgLzkuI3lr7nnmoTml7blgJnvvIzpg73mmK/lm6DkuLrlm77niYfnmoTpl67popgKICAgICAgICAgICAgLy8gICAgIHRoaXMudGhlbWVUb3BZcyA9IFtdOwogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCk7CiAgICAgICAgICAgIC8vICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKTsKICAgICAgICAgICAgLy8gICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKTsKICAgICAgICAgICAgLy8gICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICAvLyB9KQoKICAgICAgICB9KTsKCiAgICAgICAgLy8gMy4g6K+35rGC5ZWG5ZOB5o6o6I2Q5pWw5o2uCiAgICAgICAgZ2V0UmVjb21tZW5kKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5saXN0CiAgICAgICAgfSk7CgogICAgICAgIC8vIDQuIOe7mWdldFRoZW1lVG9wWei1i+WAvCjlr7nnu5l0aGlzLnRoZW1lVG9wWXPotYvlgLznmoTmk43kvZzov5vooYzpmLLmipbmk43kvZwpCiAgICAgICAgdGhpcy5nZXRUaGVtZVRvcFkgPSBkZWJvdW5jZSgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudGhlbWVUb3BZcyA9IFtdOwoKICAgICAgICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCk7CiAgICAgICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucGFyYW1zLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCk7CiAgICAgICAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApOwogICAgICAgICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaChOdW1iZXIuTUFYX1ZBTFVFKQogICAgICAgIH0sMTAwKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsnYWRkQ2FydCddKSwKICAgICAgICBpbWFnZUxvYWQoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKQoKICAgICAgICAgICAgdGhpcy5nZXRUaGVtZVRvcFkoKQoKICAgICAgICB9LAogICAgICAgIHRpdGxlQ2xpY2soaW5kZXgpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpOwogICAgICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLC10aGlzLnRoZW1lVG9wWXNbaW5kZXhdKQogICAgICAgIH0sCiAgICAgICAgY29udGVudFNjcm9sbChwb3NpdGlvbikgewogICAgICAgICAgICAvLyAxLiDojrflj5ZZ5YC8CiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uWSA9IC1wb3NpdGlvbi55OwoKICAgICAgICAgICAgLy8gMi4gcG9zaXRpb25Z5ZKM5Li76aKY5Lit5YC86L+b6KGM5a+55q+UCiAgICAgICAgICAgIGxldCBsZW5ndGggPSB0aGlzLnRoZW1lVG9wWXMubGVuZ3RoOwogICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAvLyBpZiAocG9zaXRpb25ZID4gdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpKzFdKSB7CiAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGkpCiAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAvLyAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCAhPT0gaSAmJiAoKGkgPCBsZW5ndGggLSAxICYmCiAgICAgICAgICAgICAgLy8gICAgICAgcG9zaXRpb25ZID49IHRoaXMudGhlbWVUb3BZc1tpXSAmJgogICAgICAgICAgICAgIC8vICAgICAgIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpKzFdKSB8fAogICAgICAgICAgICAgIC8vICAgICAgIChpID09PSBsZW5ndGggLSAxICYmIHBvc2l0aW9uWSA+PSB0aGlzLnRoZW1lVG9wWXNbaV0pKSkgewogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaTsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLiRyZWZzLm5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleAogICAgICAgICAgICAgIC8vICAgfQoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCAhPT0gaSAmJgogICAgICAgICAgICAgICAgICAgIChwb3NpdGlvblkgPj0gdGhpcy50aGVtZVRvcFlzW2ldICYmCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpKzFdKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAzLiDmmK/lkKbmmL7npLrlm57liLDpobbpg6gKICAgICAgICAgICAgLy8gdGhpcy5pc1Nob3dCYWNrVG9wID0gKC1wb3NpdGlvbi55KSA+IEJBQ0tfUE9TSVRJT04KICAgICAgICAgICAgdGhpcy5saXN0ZW5TaG93QmFja1RvcChwb3NpdGlvbikKCiAgICAgICAgfSwKICAgICAgICAvLyDov5Tlm57pobbpg6jkuovku7YKICAgICAgICAvLyBiYWNrQ2xpY2soKSB7CiAgICAgICAgLy8gICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnNjcm9sbFRvKDAsMCkKICAgICAgICAvLyB9CgogICAgICAgIGFkZFRvQ2FydCgpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coMTIzNCkKICAgICAgICAgICAgLy8gMS4g6I635Y+W6LSt54mp6L2m6ZyA6KaB5bGV56S655qE5L+h5oGvCiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSB7fTsKICAgICAgICAgICAgcHJvZHVjdC5pbWFnZSA9IHRoaXMudG9wSW1hZ2VzWzBdOwogICAgICAgICAgICBwcm9kdWN0LnRpdGxlID0gdGhpcy5nb29kcy50aXRsZTsKICAgICAgICAgICAgcHJvZHVjdC5kZXNjID0gdGhpcy5nb29kcy5kZXNjOwogICAgICAgICAgICBwcm9kdWN0LnByaWNlID0gdGhpcy5nb29kcy5yZWFsUHJpY2U7CiAgICAgICAgICAgIHByb2R1Y3QuaWlkID0gdGhpcy5paWQ7CgogICAgICAgICAgICAvLyAyLiDlsIbllYblk4Hmt7vliqDliLDotK3nianovaYoMS4gUHJvbWlzZSAgMi4gbWFwQWN0aW9ucykKICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuY2FydExpc3QucHVzaChwcm9kdWN0KQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZENhcnQnLHByb2R1Y3QpCiAgICAgICAgICAgIHRoaXMuYWRkQ2FydChwcm9kdWN0KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3cgPSB0cnVlOwogICAgICAgICAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0gcmVzOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMubWVzc2FnZSA9ICcnCiAgICAgICAgICAgICAgICAvLyB9LCAxNTAwKQoKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnNob3cocmVzLCAyMDAwKQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kdG9hc3QpCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkQ2FydCcscHJvZHVjdCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAvLyB9KQogICAgICAgIH0KCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygxMjEyMTIpCgogICAgfSwKICAgIHVwZGF0ZWQoKSB7CgogICAgfSwKCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgICAgdGhpcy4kYnVzLiRvZmYoJ2l0ZW1JbWdMb2FkJywgdGhpcy5pdGVtSW1nTGlzdGVuZXIgKQogICAgfQoKfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div id=\"detail\">\n    <detail-nav-bar class=\"detail-nav\" @titleClick=\"titleClick\" ref=\"nav\"/>\n    <scroll class=\"content\"\n            ref=\"scroll\"\n            :probe-type=\"3\"\n            @scroll=\"contentScroll\">\n      <detail-swiper :top-images=\"topImages\"/>\n      <detail-base-info :goods=\"goods\"/>\n      <detail-shop-info :shop=\"shop\"/>\n      <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"/>\n      <detail-param-info ref=\"params\" :param-info=\"paramInfo\"/>\n      <detail-comment-info ref=\"comment\" :comment-info=\"commentInfo\"/>\n      <goods-list ref=\"recommend\" :goods=\"recommends\"/>\n    </scroll>\n    <detail-bottom-bar @addCart=\"addToCart\"/>\n\n    <back-top @click.native=\"backClick\" v-show=\"isShowBackTop\"/>\n   <toast :message=\"message\" :show=\"show\"/>\n  </div>\n</template>\n\n<script>\n  import DetailBaseInfo from \"./childComps/DetailBaseInfo\";\n  import DetailCommentInfo from \"./childComps/DetailCommentInfo\";\n  import DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\n  import DetailNavBar from \"./childComps/DetailNavBar\";\n  import DetailParamInfo from \"./childComps/DetailParamInfo\";\n  import DetailShopInfo from \"./childComps/DetailShopInfo\";\n  import DetailSwiper from \"./childComps/DetailSwiper\";\n  import DetailBottomBar from \"./childComps/DetailBottomBar\";\n\n\n\n  import Scroll from \"components/common/scroll/Scroll\";\n  import GoodsList from \"components/content/goods/GoodsList\";\n  // import BackTop from \"components/content/backTop/BackTop\";\n  // import Toast from \"components/common/toast/Toast\";\n\n  import {getDetail, Goods, GoodsParam, Shop, getRecommend} from \"network/detail\";\n  import {debounce} from \"common/utils\";\n  import {itemListenerMixin, backTopMixin} from \"common/mixin\";\n  // import {BACK_POSITION} from \"common/const\";\n\n  import { mapActions } from 'vuex'\n\n\n  export default {\n      name: \"Detail\",\n      components: {\n        DetailBaseInfo,\n        DetailCommentInfo,\n        DetailGoodsInfo,\n        DetailNavBar,\n        DetailParamInfo,\n        DetailShopInfo,\n        DetailSwiper,\n        GoodsList,\n        DetailBottomBar,\n\n        Scroll,\n        // BackTop\n        // Toast\n      },\n      mixins: [itemListenerMixin,backTopMixin],\n      data() {\n        return {\n            iid: null,\n            topImages: [],\n            goods: {},\n            shop: {},\n            detailInfo: {},\n            paramInfo: {},\n            commentInfo: {},\n            recommends: [],\n            themeTopYs: [],\n            getThemeTopY: null,\n            currentIndex: 0,\n            // isShowBackTop: false\n            // message: '',\n            // show: false\n        }\n      },\n      created() {\n          // 1. 保存传入的iid\n          this.iid = this.$route.params.iid;\n\n          // 2. 根据iid请求详情数据\n          getDetail(this.iid).then(res => {\n              // console.log(res);\n              // 1. 获取数据\n              const data = res.result;\n\n              // 2. 获取轮播图的数据\n              this.topImages = data.itemInfo.topImages;\n\n              // 3. 获取商品信息\n              this.goods = new Goods(\n                  data.itemInfo,\n                  data.columns,\n                  data.shopInfo.services\n              );\n\n              // 4. 创建店铺信息的对象\n              this.shop = new Shop(data.shopInfo);\n\n              // 5. 保存商品的详情数据\n              this.detailInfo = data.detailInfo;\n\n              // 6. 获取参数的信息\n              this.paramInfo = new GoodsParam(\n                  data.itemParams.info,\n                  data.itemParams.rule\n              );\n\n              // 7. 取出评论的信息\n              if (data.rate.cRate !== 0) {\n                  this.commentInfo = data.rate.list[0]\n              }\n\n              // this.$nextTick(() => {\n              //     // 根据最新的数据，对应的DOM是已经被渲染出来\n              //     // 但是图片依然是没有加载完(目前获取到offsetTop不包含其中的图片)\n              //     // offsetTop值不对的时候，都是因为图片的问题\n              //     this.themeTopYs = [];\n              //\n              //     this.themeTopYs.push(0);\n              //     this.themeTopYs.push(this.$refs.params.$el.offsetTop);\n              //     this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\n              //     this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\n              // })\n\n          });\n\n          // 3. 请求商品推荐数据\n          getRecommend().then(res => {\n              // console.log(res);\n              this.recommends = res.data.list\n          });\n\n          // 4. 给getThemeTopY赋值(对给this.themeTopYs赋值的操作进行防抖操作)\n          this.getThemeTopY = debounce(() => {\n              this.themeTopYs = [];\n\n              this.themeTopYs.push(0);\n              this.themeTopYs.push(this.$refs.params.$el.offsetTop);\n              this.themeTopYs.push(this.$refs.comment.$el.offsetTop);\n              this.themeTopYs.push(this.$refs.recommend.$el.offsetTop);\n              this.themeTopYs.push(Number.MAX_VALUE)\n          },100)\n      },\n      methods: {\n          ...mapActions(['addCart']),\n          imageLoad() {\n              this.$refs.scroll.refresh()\n\n              this.getThemeTopY()\n\n          },\n          titleClick(index) {\n              // console.log(index);\n              this.$refs.scroll.scrollTo(0,-this.themeTopYs[index])\n          },\n          contentScroll(position) {\n              // 1. 获取Y值\n              const positionY = -position.y;\n\n              // 2. positionY和主题中值进行对比\n              let length = this.themeTopYs.length;\n              for(let i = 0; i < length; i++) {\n                // if (positionY > this.themeTopYs[i] && positionY < this.themeTopYs[i+1]) {\n                //     console.log(i)\n                // }\n\n                //   if (this.currentIndex !== i && ((i < length - 1 &&\n                //       positionY >= this.themeTopYs[i] &&\n                //       positionY < this.themeTopYs[i+1]) ||\n                //       (i === length - 1 && positionY >= this.themeTopYs[i]))) {\n                //       this.currentIndex = i;\n                //       this.$refs.nav.currentIndex = this.currentIndex\n                //   }\n\n                  if (this.currentIndex !== i &&\n                      (positionY >= this.themeTopYs[i] &&\n                          positionY < this.themeTopYs[i+1])) {\n                      this.currentIndex = i;\n                      this.$refs.nav.currentIndex = this.currentIndex\n                  }\n              }\n\n              // 3. 是否显示回到顶部\n              // this.isShowBackTop = (-position.y) > BACK_POSITION\n              this.listenShowBackTop(position)\n\n          },\n          // 返回顶部事件\n          // backClick() {\n          //     this.$refs.scroll.scrollTo(0,0)\n          // }\n\n          addToCart() {\n              // console.log(1234)\n              // 1. 获取购物车需要展示的信息\n              const product = {};\n              product.image = this.topImages[0];\n              product.title = this.goods.title;\n              product.desc = this.goods.desc;\n              product.price = this.goods.realPrice;\n              product.iid = this.iid;\n\n              // 2. 将商品添加到购物车(1. Promise  2. mapActions)\n              // this.$store.cartList.push(product)\n              // this.$store.commit('addCart',product)\n              this.addCart(product).then(res => {\n                  // console.log(res)\n                  // this.show = true;\n                  // this.message = res;\n                  //\n                  // setTimeout(() => {\n                  //     this.show = false;\n                  //     this.message = ''\n                  // }, 1500)\n\n                  this.$toast.show(res, 2000)\n                  // console.log(this.$toast)\n              })\n\n              // this.$store.dispatch('addCart',product).then(res => {\n              //     console.log(res)\n              // })\n          }\n\n      },\n      mounted() {\n          // console.log(121212)\n\n      },\n      updated() {\n\n      },\n\n      destroyed() {\n          this.$bus.$off('itemImgLoad', this.itemImgListener )\n      }\n\n  }\n</script>\n\n<style scoped>\n  #detail {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n    height: 100vh;\n  }\n\n  .detail-nav {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n  }\n\n  .content {\n    position: absolute;\n    top: 44px;\n    bottom: 58px;\n    left: 0;\n    right: 0;\n  }\n</style>\n"]}]}